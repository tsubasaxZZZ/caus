<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Microsoft Azure Service Update</title>

    <!-- Bootstrap -->
    <link href="/static/css/bootstrap.min.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
      <![endif]-->
	<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
	<!-- Include all compiled plugins (below), or include individual files as needed -->
	<script src="/static/js/bootstrap.min.js"></script>
	<script src="/static/js/jquery.twbsPagination.min.js"></script>
  </head>
  <body>
    <div class="container-fluid">
      <div class="page-header">
	<h1>MAU</h1>
      </div>

      <form action="/" method="GET" name="search-form">
	<div class="form-group">
	  <div class="checkbox">

	    <h3>Product</h3>
	    {% for _name, _value in product_list.items() %}
	    <label><input type="checkbox" name="product" value="{{_value}}" {% if _value in request.query.getall("product") %}checked{% endif %}>{{_name}}</label>
	    {% endfor %}

	    <h3>UpdateType</h3>
	    {% for _name, _value in updatetype_list.items() %}
	    <label><input type="checkbox" name="updateType" value="{{_value}}" {% if _value in request.query.getall("updateType") %}checked{% endif %}>{{_name}}</label>
	    {% endfor %}

	    <h3>Platform</h3>
	    {% for _name, _value in platform_list.items() %}
	    <label><input type="checkbox" name="platform" value="{{_value}}" {% if _value in request.query.getall("platform") %}checked{% endif %}>{{_name}}</label>
	    {% endfor %}

	  </div>
	</div>
	<button type="submit" class="btn btn-default">Search</button>
      </form>

      <p>{{pageinfo}}</p>
      <table class="table table-hover">
	<th>Title</th>
	<th>Date</th>
	{% for update in update_list %}
	<tr>
	  <td>{{update.title}}</td>
	  <td>{{update.date}}</td>
	</tr>
	{% endfor %}
      </table>
    </div>

    <!-- paging -->
    <h1>{{prev_page_link}}</h1>
    <nav aria-label="...">
      <ul class="pagination">
	<li class="page-item">
	  <a class="page-link" href="/?{{prev_page_query}}" >&lt;&lt;</a>
	</li>
	<li class="page-item">({{pageinfo['page']}}/{{pageinfo['max_pagenum']}})</li>
	<li class="page-item">
	  <a class="page-link" href="/?{{next_page_query}}" >&gt;&gt;</a>
	</li>
      </ul>
      </nav>
    <!-- paging -->
  </body>
  </html>
